<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beebart Gallery</title>
    <style>
        /* Basic styling for the gallery */
        body, html { margin: 0; padding: 0; overflow: hidden; }
        #gallery { width: 100vw; height: 100vh; }
    </style>
    <link rel="stylesheet" href="../public/style.css">

</head>
<body>

    <!-- Welcome Overlay -->
    <div id="welcomeOverlay">
        <div id="welcomeText">Welcome to the Gallery of Beeb</div>
    </div>
    
    <!-- Gallery -->
    <div id="gallery"></div> <!-- The Three.js gallery view -->
    
    <!-- Chat Overlay -->
    <div id="chat-overlay" class="hidden">
        <!-- Chat overlay content goes here -->
        <div id="chat-title-section">
            <button id="chat-close-btn">X</button>
            <span id="chat-title">Chat with Visitor</span>
        </div>
        <div id="chat-content">
            <!-- Chat messages and input will go here -->
            <div id="chat-messages">
                <div id="" class="chat-message visitor-message">
                    <span>Visitor Message</span>
                </div>
                <div id="" class="chat-message user-message">
                    <span>User Message</span>
                </div>
            </div>
            <div id="chat-input">
                <!-- Expandable Textarea -->
                <textarea class="expandable-textarea" id="user-chat-input" placeholder="Type your message here..." oninput="autoExpand(this)"></textarea>
        
                <!-- Submit Button -->
                <!-- <button class="submit-button" onclick="submitInput()">Submit</button> -->
            </div>
        </div>
    </div> 

    <!-- Artwork Information Overlay -->
    <div id="artwork-overlay" style="position: fixed; top: 10%; left: 10%; width: 80%; height: 80%; background: rgba(0, 0, 0, 0.9); color: white; border-radius: 10px; overflow: hidden; z-index: 1000;">
        <div style="display: flex; height: 100%;">
            <!-- Left section for artwork image -->
            <div id="artwork-image-container" style="width: 50%; height: 100%; background-color: #333;">
                <img id="artwork-image" src="" alt="Artwork" style="width: 100%; height: 100%; object-fit: contain;">
            </div>
            
            <!-- Right section for artwork info -->
            <div style="width: 50%; padding: 20px;">
                <h2 id="artwork-title">Title</h2>
                <p id="artwork-artist">Artist: </p>
                <p id="artwork-date">Date: </p>
                <p id="artwork-description">Description: </p>
            </div>
        </div>
        <!-- Close button -->
        <button id="overlay-close-btn" style="position: absolute; top: 10px; right: 20px; font-size: 1.5em; background: none; color: white; border: none; cursor: pointer;">X</button>
    </div>
    

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-analytics.js";
        import { getStorage } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-storage.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyCpDHNdkF12eCTW3D5W1FgkF0_KkOHqN4c",
          authDomain: "ai-gallery-55b8b.firebaseapp.com",
          projectId: "ai-gallery-55b8b",
          storageBucket: "ai-gallery-55b8b.appspot.com",
          messagingSenderId: "1047560914198",
          appId: "1:1047560914198:web:a99e37dc0bac88f7423c37",
          measurementId: "G-J6VRHFYEET"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const storage = getStorage(app);

        console.log("Firebase initialized successfully");
    </script>

    <!-- Three.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>      

    <!-- GSAP -->
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.0/dist/gsap.min.js"></script>

    <!-- Link to your app.js -->
    <script src="../src/app.js" type="module"></script>

    <!-- <div id="response"></div>
    <script>
        async function testOpenAI() {
            const apiKey = "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";  // Replace with your actual OpenAI API key

            try {
                const response = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${apiKey}`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo", // Model for a simple chat-based test
                        messages: [
                            { role: "system", content: "You are a helpful assistant." },
                            { role: "user", content: "Hello, OpenAI! Can you tell me a joke?" }
                        ],
                        max_tokens: 50
                    })
                });

                if (!response.ok) {
                    throw new Error(`OpenAI API error: ${response.statusText}`);
                }

                const data = await response.json();
                document.getElementById("response").innerText = data.choices[0].message.content;
                console.log(data.choices[0].message.content);
            } catch (error) {
                console.error("Error:", error);
                document.getElementById("response").innerText = error.message;
            }
        }

        testOpenAI();
    </script> -->

</body>
</html>
